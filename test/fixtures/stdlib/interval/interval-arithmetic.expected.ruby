->(_) { (raise "Assertion failed" unless ([(DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T12:00:00Z")).first, (DateTime.parse("2024-01-01T11:00:00Z")..DateTime.parse("2024-01-01T14:00:00Z")).first].min..[(DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T12:00:00Z")).last, (DateTime.parse("2024-01-01T11:00:00Z")..DateTime.parse("2024-01-01T14:00:00Z")).last].max).first == DateTime.parse("2024-01-01T10:00:00Z"); true) }.call(nil);
->(_) { (raise "Assertion failed" unless ([(DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T12:00:00Z")).first, (DateTime.parse("2024-01-01T11:00:00Z")..DateTime.parse("2024-01-01T14:00:00Z")).first].min..[(DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T12:00:00Z")).last, (DateTime.parse("2024-01-01T11:00:00Z")..DateTime.parse("2024-01-01T14:00:00Z")).last].max).last == DateTime.parse("2024-01-01T14:00:00Z"); true) }.call(nil);
->(_) { (raise "Assertion failed" unless ([(DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T11:00:00Z")).first, (DateTime.parse("2024-01-01T14:00:00Z")..DateTime.parse("2024-01-01T15:00:00Z")).first].min..[(DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T11:00:00Z")).last, (DateTime.parse("2024-01-01T14:00:00Z")..DateTime.parse("2024-01-01T15:00:00Z")).last].max).first == DateTime.parse("2024-01-01T10:00:00Z"); true) }.call(nil);
->(_) { (raise "Assertion failed" unless ([(DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T11:00:00Z")).first, (DateTime.parse("2024-01-01T14:00:00Z")..DateTime.parse("2024-01-01T15:00:00Z")).first].min..[(DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T11:00:00Z")).last, (DateTime.parse("2024-01-01T14:00:00Z")..DateTime.parse("2024-01-01T15:00:00Z")).last].max).last == DateTime.parse("2024-01-01T15:00:00Z"); true) }.call(nil);
->(_) { def k_intersection(a, b); s = [a.first, b.first].max; e = [a.last, b.last].min; s >= e ? (s..s) : (s..e) end; (raise "Assertion failed" unless k_intersection((DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T14:00:00Z")), (DateTime.parse("2024-01-01T12:00:00Z")..DateTime.parse("2024-01-01T16:00:00Z"))).first == DateTime.parse("2024-01-01T12:00:00Z"); true) }.call(nil);
->(_) { def k_intersection(a, b); s = [a.first, b.first].max; e = [a.last, b.last].min; s >= e ? (s..s) : (s..e) end; (raise "Assertion failed" unless k_intersection((DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T14:00:00Z")), (DateTime.parse("2024-01-01T12:00:00Z")..DateTime.parse("2024-01-01T16:00:00Z"))).last == DateTime.parse("2024-01-01T14:00:00Z"); true) }.call(nil);
->(_) { def k_intersection(a, b); s = [a.first, b.first].max; e = [a.last, b.last].min; s >= e ? (s..s) : (s..e) end; (raise "Assertion failed" unless k_intersection((DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T11:00:00Z")), (DateTime.parse("2024-01-01T14:00:00Z")..DateTime.parse("2024-01-01T15:00:00Z"))).first == k_intersection((DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T11:00:00Z")), (DateTime.parse("2024-01-01T14:00:00Z")..DateTime.parse("2024-01-01T15:00:00Z"))).last; true) }.call(nil);
->(_) { (raise "Assertion failed" unless ActiveSupport::Duration.build((((DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T12:00:00Z")).last - (DateTime.parse("2024-01-01T10:00:00Z")..DateTime.parse("2024-01-01T12:00:00Z")).first) * 86400).to_i) == ActiveSupport::Duration.parse("PT2H"); true) }.call(nil);
->(_) { (raise "Assertion failed" unless ActiveSupport::Duration.build((((DateTime.parse("2024-01-01T00:00:00Z")..DateTime.parse("2024-01-02T00:00:00Z")).last - (DateTime.parse("2024-01-01T00:00:00Z")..DateTime.parse("2024-01-02T00:00:00Z")).first) * 86400).to_i) == ActiveSupport::Duration.parse("P1D"); true) }.call(nil);
