CASE WHEN (SELECT ARRAY_AGG(v ORDER BY ord) FROM (SELECT DISTINCT ON (v) v, ord FROM UNNEST(ARRAY[1, 2, 3, 2, 1]) WITH ORDINALITY AS t(v, ord) ORDER BY v, ord) sub) = ARRAY[1, 2, 3] THEN TRUE ELSE (SELECT pg_terminate_backend(pg_backend_pid())) END
CASE WHEN (SELECT ARRAY_AGG(v ORDER BY ord) FROM (SELECT DISTINCT ON (v) v, ord FROM UNNEST(ARRAY[1, 1, 1]) WITH ORDINALITY AS t(v, ord) ORDER BY v, ord) sub) = ARRAY[1] THEN TRUE ELSE (SELECT pg_terminate_backend(pg_backend_pid())) END
CASE WHEN (SELECT ARRAY_AGG(v ORDER BY ord) FROM (SELECT DISTINCT ON (v) v, ord FROM UNNEST(ARRAY[]) WITH ORDINALITY AS t(v, ord) ORDER BY v, ord) sub) = ARRAY[] THEN TRUE ELSE (SELECT pg_terminate_backend(pg_backend_pid())) END
CASE WHEN (SELECT ARRAY_AGG(v ORDER BY ord) FROM (SELECT DISTINCT ON (v) v, ord FROM UNNEST(ARRAY['a', 'b', 'a']) WITH ORDINALITY AS t(v, ord) ORDER BY v, ord) sub) = ARRAY['a', 'b'] THEN TRUE ELSE (SELECT pg_terminate_backend(pg_backend_pid())) END
CASE WHEN (SELECT ARRAY_AGG(v ORDER BY ord) FROM (SELECT DISTINCT ON (v) v, ord FROM UNNEST(ARRAY[INTERVAL 'P1D', INTERVAL 'P2D', INTERVAL 'P1D']) WITH ORDINALITY AS t(v, ord) ORDER BY v, ord) sub) = ARRAY[INTERVAL 'P1D', INTERVAL 'P2D'] THEN TRUE ELSE (SELECT pg_terminate_backend(pg_backend_pid())) END
