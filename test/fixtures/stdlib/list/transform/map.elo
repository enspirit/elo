assert(map([1, 2, 3], fn(x ~> x * 2)) == [2, 4, 6])
assert(map([], fn(x ~> x * 2)) == [])
assert((let x = 10 in map([1, 2, 3], fn(y ~> x + y))) == [11, 12, 13])
